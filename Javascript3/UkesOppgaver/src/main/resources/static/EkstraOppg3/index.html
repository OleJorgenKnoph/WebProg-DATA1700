<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="application/javascript">

        const oppgaver = []

        const oppgave1 = {
            sporsmol: "Når er frist for oblig 1?",
            alternativer: ['1. Februar', '6. Februar', '12. Februar'],
            riktigIndex: 2
        }

        const oppgave2 = {
            sporsmol: "Hvor mange obliger er det i dette faget?",
            alternativer: ['3', '5', 'ingen', '2'],
            riktigIndex: 0
        }

        const oppgave3 = {
            sporsmol: "Hva står API for?",
            alternativer: ['App Program Instruction', 'Application Programming Interface', 'Det er ikke en forkortelse'],
            riktigIndex: 1
        }

        oppgaver.push(oppgave1)
        oppgaver.push(oppgave2)
        oppgaver.push(oppgave3)

        function skrivUtOppgaver() {
            let liste = document.getElementById("liste");
            let ut = "";

            for (let i = 0; i<oppgaver.length; i++){
                ut += "<li>" + oppgaver[i].sporsmol + "</li><br>";

                for (let j = 0; j < oppgaver[i].alternativer.length; j++) {
                    ut += "<input type='radio' name='alternativer"+i+"' value='"+oppgaver[i].alternativer[j]+"'/>" + oppgaver[i].alternativer[j] + "<br>";
                }
            }
                ut += "<br><button onclick='sjekkResultat()'>Sjekk resultat!</button> <br>"
                liste.innerHTML = ut;
        }

        function sjekkResultat() {
            let res = 0;

            let oppg1Svar = document.querySelector('input[name="alternativer0"]:checked').value;
            let oppg2Svar = document.querySelector('input[name="alternativer1"]:checked').value;
            let oppg3Svar = document.querySelector('input[name="alternativer2"]:checked').value;

                if (oppg1Svar === oppgave1.alternativer[oppgave1.riktigIndex]){
                    res++;
                }
                     if (oppg2Svar === oppgave2.alternativer[oppgave2.riktigIndex]){
                        res++;
                    }
                         if (oppg3Svar === oppgave3.alternativer[oppgave3.riktigIndex]){
                            res++;
                        }

                         let svarUt = "";
            if (res <= 1){svarUt = "Svakt. Prøv igjen"}
            if (res === 2){svarUt = "Nesten. Prøv igjen og se om du klarer å få 3/3"}
            if (res === 3){svarUt = "Nice:)"}

            alert("Du fikk " + res + " av 3 oppgaver riktig. " + svarUt);



        }
    </script>
</head>
<body>
<button onclick="skrivUtOppgaver()">Ta test!</button>
<ul id="liste"></ul>
</body>
</html>