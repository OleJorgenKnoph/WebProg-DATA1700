<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Person Register</title>

    <style type="text/css">
        body {
            background-image: url("bckground.jpg") ;

        }

        #innhold {
            z-index: 1;
            padding: 20px;
            height: auto;
            width: 50vw;
            margin: 30vh 0 0 25vw;
            text-align: center;
            background-color: antiquewhite;
            opacity: .75;
            line-height: 35px;
            border-radius: 40px;
        }

        table {
            margin-left: 30%;
        }
    </style>


    <script type="application/javascript">
        //Oppretter Array
    const personReg = [];

        //Oppretter personene
        let person1 = {
        Navn: "Line Jensen",
        Adresse: "Askerveien 82",
        Tlfnr: 12334455,
        Fodselsnummer: 10987654321
    }
        let person2 = {
            Navn: "Ole Hansen",
            Adresse: "Osloveien 82",
            Tlfnr: 99887766,
            Fodselsnummer: 21223344556
        }
                        //EKSTRAOPPGAVE 1
                        let person3 = {
                            Navn: "Morten Gabrielsen",
                            Adresse: "Tromsøveien 82",
                            Tlfnr: 87654321,
                            Fodselsnummer: 21009988776
                        }
                        let person4 = {
                            Navn: "Line Knoph",
                            Adresse: "Bodøveien 82",
                            Tlfnr: 12345678,
                            Fodselsnummer: 12345678901
                        }

    //Legger personene inn i array
        personReg.push(person1);
        personReg.push(person2);
        personReg.push(person3);
        personReg.push(person4);



        //Formatterer tabellen
            //&emsp for xtra mellomrom mellom ordene.
    let ut = "<table><tr>" +
        "<th>Navn &emsp;&emsp;&ensp;</th><th>Adresse &emsp;&emsp;&ensp;</th><th>Telefonnr &emsp;&emsp;&ensp;</th>" +
        "<th>Fødselsnummer &emsp;&emsp;&ensp;</th>" +
        "</tr>";

    //Funksjon som kjøres når knapp er trykket
        //og skriver ut personene
    function visPersonRegister() {

        //Henter div-elementet som det skal skrives ut i
        let personFelt = document.getElementById("personRegister");

        //Skriver ut den formatterte tabellen før løkke for å
        // slippe at den skrives ut flere ganger
        personFelt.innerHTML += ut;

        for (let i = 0; i < personReg.length; i++){

            //Lager en tekststring
            let personRegUt = "";
            personRegUt +=
                personReg[i].Navn + " &ensp;" +
                personReg[i].Adresse + " &ensp;" +
                personReg[i].Tlfnr + " &ensp;" +
                personReg[i].Fodselsnummer + " &ensp;" +
                "<br>"; //<br> for å få hver person på forskjellig linje

                            //EKSTRAOPPGAVE 3
                                //Hvis i er et partall så vil objektet skrives ut med fet tekst
                                    //i er et partall annenhver linje

                            //EKSTRAOPPGAVE 5
                                //Hvis første siffer i fødselsnummer = 1 så er det en kvinne og får en understrek
                                    //Deler sifferet på 10^10 for å finne første siffer
                                        //Math.trunc tar bort desimalene. f.eks 4.4567 = 4

                            if (i % 2 === 0 ){
                                                if (Math.trunc(personReg[i].Fodselsnummer / Math.pow(10,10)) === 1 ) {
                                                    personFelt.innerHTML += "<strong><u>" + personRegUt + "</u>";
                                                }
                                                    else {
                                                    personFelt.innerHTML += "<strong>" + personRegUt;
                                                    }
                                            }
                                else {
                                        if (Math.trunc(personReg[i].Fodselsnummer / Math.pow(10,10)) === 1 ) {
                                        personFelt.innerHTML += "<u>" + personRegUt + "</u>";
                                        }
                                            else {
                                            personFelt.innerHTML += personRegUt;
                                            }
                                    }
        }


                            //EKSTRAOPPGAVE 2
                                //Sorterer arrayet med personer basert på navn
                            personReg.sort(function (a, b) {
                                let navnA = a.Navn.toUpperCase(), navnB = b.Navn.toUpperCase();
                                    if (navnA < navnB) return -1;
                                        if (navnA > navnB) return 1;
                                            return 0;
                            })
                                personFelt.innerHTML += "<br> <b>Sortert:</b><br>"
                                personFelt.innerHTML += ut;
                                for (let i = 0; i < personReg.length; i++){
                                    let personRegUt = "";
                                    personRegUt +=
                                        personReg[i].Navn + " &ensp;" +
                                        personReg[i].Adresse + " &ensp;" +
                                        personReg[i].Tlfnr + " &ensp;" +
                                        personReg[i].Fodselsnummer + " &ensp;" +
                                        "<br>"; //<br> for å få hver person på forskjellig linje

                                    //EKSTRAOPPGAVE 3
                                    //Hvis i er et partall så vil objektet skrives ut med fet tekst
                                    if (i % 2 === 0 ){

                                        //EKSTRAOPPGAVE 5
                                        //Hvis første siffer i fødselsnummer = 1 så er det en kvinne og får en understrek
                                        //Deler sifferet på 10^10 for å finne første siffer
                                        //Math.trunc tar bort desimalene. f.eks 4.4567 = 4

                                        if (Math.trunc(personReg[i].Fodselsnummer / Math.pow(10,10)) === 1 ) {
                                            personFelt.innerHTML += "<strong><u>" + personRegUt + "</u>";
                                        }
                                        else {
                                            personFelt.innerHTML += "<strong>" + personRegUt;
                                        }
                                    }
                                    else {
                                        if (Math.trunc(personReg[i].Fodselsnummer / Math.pow(10,10)) === 1 ) {
                                            personFelt.innerHTML += "<u>" + personRegUt + "</u>";
                                        }
                                        else {
                                            personFelt.innerHTML += personRegUt;
                                        }
                                    }
                                }
    }
    </script>
</head>
<body>
<div id="innhold">
    <button onclick="visPersonRegister()">Vis personregister</button>
    <div id="personRegister"></div>
</div>
</body>
</html>